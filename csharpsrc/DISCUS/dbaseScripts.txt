DROP TABLE REGISTERED_SERVICES;
drop sequence registered_se_rs_service_id_seq;
CREATE TABLE REGISTERED_SERVICES
(
	RS_SERVICE_ID serial NOT NULL,
	RS_SERVICENAME varchar(50) NOT NULL,
	RS_SERVICENAMESPACE varchar(150) NOT NULL DEFAULT '',
	RS_SERVICE_LOCATION varchar(250) NOT NULL,
	RS_SERVICE_ACCESSPOINT varchar(250) NOT NULL DEFAULT '',
	RS_CREATEDATE date NOT NULL DEFAULT current_date,
	RS_MODIFYDATE date NOT NULL DEFAULT current_date,
	PRIMARY KEY(RS_SERVICE_ID),
	UNIQUE(RS_SERVICENAME)
);

DROP TABLE SERVICE_METHODS;
CREATE TABLE SERVICE_METHODS
(
	RS_SERVICE_ID int NOT NULL,
	SM_METHODNAME varchar(50),
	SM_CREATEDATE date NOT NULL DEFAULT current_date,
	SM_MODIFYDATE date NOT NULL DEFAULT current_date,
	PRIMARY KEY(RS_SERVICE_ID,SM_METHODNAME),
	FOREIGN KEY(RS_SERVICE_ID) References REGISTERED_SERVICES ON DELETE CASCADE,
	UNIQUE(SM_METHODNAME)
);

DROP TABLE SERVICE_SPACES;
CREATE TABLE SERVICE_SPACES
(
	SS_GATEKEEPER varchar(100) NOT NULL,
	SS_WSDL_FILE varchar(250) NOT NULL,
	SS_CREATEDATE date NOT NULL DEFAULT current_date,
	SS_MODIFYDATE date NOT NULL DEFAULT current_date,
	PRIMARY KEY(SS_GATEKEEPER)
);

DROP TABLE TREATY_DATA;
CREATE TABLE TREATY_DATA
(
	TD_TREATY_ID serial NOT NULL,
	TD_XML_TREATY varchar(2048) NOT NULL,
	TD_TREATYSTATUS int NOT NULL DEFAULT 0,
	TD_CREATEDATE date NOT NULL DEFAULT current_date,
	TD_MODIFYDATE date NOT NULL DEFAULT current_date,
	PRIMARY KEY(TD_TREATY_ID)
);